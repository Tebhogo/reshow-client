{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CompanyLogos=()=>{const[content,setContent]=useState(null);useEffect(()=>{let isMounted=true;const fetchContent=async()=>{try{const res=await api.get('/content/companyLogos');console.log('Company Logos content fetched:',res.data);if(!isMounted)return;if(res.data){setContent(res.data);}}catch(error){console.error('Error fetching Company Logos content:',error);// Use default content if fetch fails\nsetContent({title:'Trusted by Companies We\\'ve Worked With',logos:[{id:1,name:'Company 1',image:'/images/placeholder/logo1.png'},{id:2,name:'Company 2',image:'/images/placeholder/logo2.png'},{id:3,name:'Company 3',image:'/images/placeholder/logo3.png'},{id:4,name:'Company 4',image:'/images/placeholder/logo4.png'},{id:5,name:'Company 5',image:'/images/placeholder/logo5.png'}]});}};fetchContent();return()=>{isMounted=false;};},[]);const title=(content===null||content===void 0?void 0:content.title)||'Trusted by Companies We\\'ve Worked With';const logos=(content===null||content===void 0?void 0:content.logos)||[];if(logos.length===0){return null;// Don't render if no logos\n}return/*#__PURE__*/_jsx(\"section\",{className:\"w-full bg-white py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-6 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[25px] uppercase tracking-wider text-gray-700 mb-8 font-dosis font-bold\",children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center gap-8 flex-nowrap\",children:logos.map(logo=>{// Handle image URL\nlet imageUrl=logo.image||'/images/placeholder.jpg';if(imageUrl.startsWith('/uploads')){const apiBaseUrl=api.defaults.baseURL||'http://localhost:3000/api';const serverBaseUrl=apiBaseUrl.replace('/api','');imageUrl=\"\".concat(serverBaseUrl).concat(imageUrl);}else if(!imageUrl.startsWith('http')&&!imageUrl.startsWith('/images')){const apiBaseUrl=api.defaults.baseURL||'http://localhost:3000/api';const serverBaseUrl=apiBaseUrl.replace('/api','');imageUrl=\"\".concat(serverBaseUrl).concat(imageUrl);}return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-24 md:h-28\",children:/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:logo.name||\"Company \".concat(logo.id),className:\"h-16 md:h-20 max-w-full object-contain opacity-90 hover:opacity-100 transition-opacity\",onError:e=>{e.target.style.display='none';}})},logo.id);})})]})});};export default CompanyLogos;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","CompanyLogos","content","setContent","isMounted","fetchContent","res","get","console","log","data","error","title","logos","id","name","image","length","className","children","map","logo","imageUrl","startsWith","apiBaseUrl","defaults","baseURL","serverBaseUrl","replace","concat","src","alt","onError","e","target","style","display"],"sources":["C:/Users/Liyandah/Desktop/reshow/client/src/components/CompanyLogos.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../utils/api';\n\nconst CompanyLogos = () => {\n  const [content, setContent] = useState(null);\n\n  useEffect(() => {\n    let isMounted = true;\n\n    const fetchContent = async () => {\n      try {\n        const res = await api.get('/content/companyLogos');\n        console.log('Company Logos content fetched:', res.data);\n\n        if (!isMounted) return;\n\n        if (res.data) {\n          setContent(res.data);\n        }\n      } catch (error) {\n        console.error('Error fetching Company Logos content:', error);\n        // Use default content if fetch fails\n        setContent({\n          title: 'Trusted by Companies We\\'ve Worked With',\n          logos: [\n            { id: 1, name: 'Company 1', image: '/images/placeholder/logo1.png' },\n            { id: 2, name: 'Company 2', image: '/images/placeholder/logo2.png' },\n            { id: 3, name: 'Company 3', image: '/images/placeholder/logo3.png' },\n            { id: 4, name: 'Company 4', image: '/images/placeholder/logo4.png' },\n            { id: 5, name: 'Company 5', image: '/images/placeholder/logo5.png' },\n          ],\n        });\n      }\n    };\n\n    fetchContent();\n\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  const title = content?.title || 'Trusted by Companies We\\'ve Worked With';\n  const logos = content?.logos || [];\n\n  if (logos.length === 0) {\n    return null; // Don't render if no logos\n  }\n\n  return (\n    <section className=\"w-full bg-white py-12\">\n      <div className=\"max-w-7xl mx-auto px-6 text-center\">\n        <p className=\"text-[25px] uppercase tracking-wider text-gray-700 mb-8 font-dosis font-bold\">\n          {title}\n        </p>\n\n        <div className=\"flex justify-center items-center gap-8 flex-nowrap\">\n          {logos.map((logo) => {\n            // Handle image URL\n            let imageUrl = logo.image || '/images/placeholder.jpg';\n            if (imageUrl.startsWith('/uploads')) {\n              const apiBaseUrl = api.defaults.baseURL || 'http://localhost:3000/api';\n              const serverBaseUrl = apiBaseUrl.replace('/api', '');\n              imageUrl = `${serverBaseUrl}${imageUrl}`;\n            } else if (!imageUrl.startsWith('http') && !imageUrl.startsWith('/images')) {\n              const apiBaseUrl = api.defaults.baseURL || 'http://localhost:3000/api';\n              const serverBaseUrl = apiBaseUrl.replace('/api', '');\n              imageUrl = `${serverBaseUrl}${imageUrl}`;\n            }\n\n            return (\n              <div\n                key={logo.id}\n                className=\"flex items-center justify-center h-24 md:h-28\"\n              >\n                <img\n                  src={imageUrl}\n                  alt={logo.name || `Company ${logo.id}`}\n                  className=\"h-16 md:h-20 max-w-full object-contain opacity-90 hover:opacity-100 transition-opacity\"\n                  onError={(e) => {\n                    e.target.style.display = 'none';\n                  }}\n                />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default CompanyLogos;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}